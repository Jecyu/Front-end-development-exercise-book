var page={init:function(){this.onLoad(),this.bindEvent()},onLoad:function(){$(".btn-groups .item-4").addClass("active")},bindEvent:function(){var n=this;n.bannerW=$(".banner").width();for(var i,a=$(".banner ul li"),e=a.length,t=0,s="<div class='btn-group'>",r=0;r<e;r++)s+="<span></span>";s+="</div>",s+="<div class='banner-arrow prev'></div><div class='banner-arrow next'></div>",s+="<span class='hidden left'></span><span class='hidden right'></span>",$(".banner").append(s);var o=$(window).height(),c=$(window).width();$(window).on("resize",function(){o=$(window).height(),c=$(window).width(),a.height(o),a.width(c)}),a.height(o),a.width(c),$(".banner ul").css("width",n.bannerW*(e+1)),$(".banner").hover(function(){clearInterval(i)},function(){i=setInterval(function(){t===e?(t=0,n.showFirstPic(e,t)):n.showPics(t),t++},2e3)}),$(".banner div.btn-group span").css("opacity",.4).mouseenter(function(){t=$(".banner div.btn-group span").index(this),n.showPics(t)}),$(".banner span.left").click(function(){-1===t&&(t=e-1),n.showPics(t),t--}),$(".banner span.right").click(function(){t===e?(t=0,n.showFirstPic(e,t)):n.showPics(t),t++})},showPics:function(n){var i=-n*this.bannerW;$(".banner ul").stop(!0,!1).animate({left:i},500),$(".banner .btn-group span").animate({opacity:"0.4"},300).eq(n).animate({opacity:"1"},100)},showFirstPic:function(n,i){var a=this;$(".banner ul").append($(".banner ul li:first").clone().css({background:"url(../image/3-1.jpg)","background-size":"cover","background-repeat":"none","background-position":"center"}));var e=-n*a.bannerW;$(".banner ul").stop(!0,!1).animate({left:e},500,function(){$(".banner ul").css("left","0"),$(".banner ul li:last").remove()}),$(".banner .btn-group span").animate({opacity:"0.4"},300).eq(i).animate({opacity:"1"},100)}};$(function(){page.init()});