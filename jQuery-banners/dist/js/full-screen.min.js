var page={init:function(){this.onLoad(),this.bindEvent()},onLoad:function(){$(".btn-groups .item-4").addClass("active")},bindEvent:function(){var n=this;n.bannerW=$(".banner").width();for(var i,a=$(".banner ul li"),t=a.length,e=0,s="<div class='btn-group'>",r=0;r<t;r++)s+="<span></span>";s+="</div>",s+="<div class='banner-arrow prev'></div><div class='banner-arrow next'></div>",s+="<span class='hidden left'></span><span class='hidden right'></span>",$(".banner").append(s);var o=$(window).height(),c=$(window).width();$(window).on("resize",function(){o=$(window).height(),c=$(window).width(),a.height(o),a.width(c)}),a.height(o),a.width(c),$(".banner ul").css("width",n.bannerW*(t+1)),$(".banner").hover(function(){clearInterval(i)},function(){i=setInterval(function(){e===t?(e=0,n.showFirstPic(t,e)):n.showPics(e),e++},2e3)}),$(".banner div.btn-group span").css("opacity",.4).mouseenter(function(){e=$(".banner div.btn-group span").index(this),n.showPics(e)}),$(".banner span.left").click(function(){-1===e&&(e=t-1),n.showPics(e),e--}),$(".banner span.right").click(function(){e===t?(e=0,n.showFirstPic(t,e)):n.showPics(e),e++})},showPics:function(n){var i=-n*this.bannerW;$(".banner ul").stop(!0,!1).animate({left:i},500),$(".banner .btn-group span").animate({opacity:"0.4"},300).eq(n).animate({opacity:"1"},100)},showFirstPic:function(n,i){var a=this;$(".banner ul").append($(".banner ul li:first").clone());var t=-n*a.bannerW;$(".banner ul").stop(!0,!1).animate({left:t},500,function(){$(".banner ul").css("left","0"),$(".banner ul li:last").remove()}),$(".banner .btn-group span").animate({opacity:"0.4"},300).eq(i).animate({opacity:"1"},100)}};$(function(){page.init()});